<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.alpha.aoom.review.service.ReviewMapper">
	<!-- 숙소 리뷰 목록 조회-->
	<select id="list" parameterType="map" resultType="camelCaseMap">
		SELECT 
			review_content , create_date , rating , user_id , review_image
		FROM (
		    SELECT 
		    	booking_id , review_content , create_date, room_id , rating , user_id , review_image 
		    FROM 
		    	review
		    WHERE 
		    	room_id = 'r2024070504'
		    ORDER BY 
		    	create_date DESC
		) 
		WHERE			
			ROWNUM <![CDATA[>]]>  #{beginRow} and ROWNUM <![CDATA[<]]>  #{beginRow} +#{rowPerPage} ;
	</select>
</mapper>