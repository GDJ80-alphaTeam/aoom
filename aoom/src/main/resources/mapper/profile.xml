<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.alpha.aoom.profile.service.ProfileMapper">
	
	<!-- 조각모음 -->
	<sql id="profile_col">
		 proitem_code
		,user_id
		,content
		,create_date
	</sql>
	
	<!-- 해당유저가 소유한 프로필정보 -->
	<select id="selectListByuserId" parameterType="map" resultType="camelCaseMap">
		SELECT
			 c.*
			,p.*
		FROM
			profile p
		LEFT JOIN
			code c
		ON
			c.code_key = p.proitem_code				
		WHERE
			user_id = #{userId}		
			<if test="codeKey != null">
			AND proitem_code = #{codeKey}
			</if>
	</select>
	
</mapper>